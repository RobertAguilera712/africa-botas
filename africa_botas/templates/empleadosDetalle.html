{% extends 'plantillaDashboard.html' %}
{% block modulo %}
<div class="container-fluid">
    <h1 class="text-center my-3">Detalle empleado</h1>
    <form class="row" method="post" action="">
      {% block form %}
        {{ form.hidden_tag() }}
        <div class="col-lg-4 col-md-6 col-sm-12 my-3">
            <div class="form-floating">
              {% if form.nombre.errors %}
              {{ form.nombre(class="form-control is-invalid", placeholder=form.nombre.label.text) }}
              <div class="invalid-feedback">
                {% for error in form.nombre.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
              {% else %}
              {{ form.nombre(class="form-control", placeholder=form.nombre.label.text) }}
              {% endif %}
              {{ form.nombre.label }}
            </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 my-3">
            <div class="form-floating">
              {% if form.apellido_p.errors %}
              {{ form.apellido_p(class="form-control is-invalid", placeholder=form.apellido_p.label.text) }}
              <div class="invalid-feedback">
                {% for error in form.apellido_p.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
              {% else %}
              {{ form.apellido_p(class="form-control", placeholder=form.apellido_p.label.text) }}
              {% endif %}
              {{ form.apellido_p.label }}
            </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 my-3">
            <div class="form-floating">
              {% if form.apellido_m.errors %}
              {{ form.apellido_m(class="form-control is-invalid", placeholder=form.apellido_m.label.text) }}
              <div class="invalid-feedback">
                {% for error in form.apellido_m.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
              {% else %}
              {{ form.apellido_m(class="form-control", placeholder=form.apellido_m.label.text) }}
              {% endif %}
              {{ form.apellido_m.label }}
            </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 my-3">
            <div class="form-floating">
              {% if form.direccion.errors %}
              {{ form.direccion(class="form-control is-invalid", placeholder=form.direccion.label.text) }}
              <div class="invalid-feedback">
                {% for error in form.direccion.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
              {% else %}
              {{ form.direccion(class="form-control", placeholder=form.direccion.label.text) }}
              {% endif %}
              {{ form.direccion.label }}
            </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 my-3">
            <div class="form-floating">
              {% if form.telefono.errors %}
              {{ form.telefono(class="form-control is-invalid", placeholder=form.telefono.label.text) }}
              <div class="invalid-feedback">
                {% for error in form.telefono.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
              {% else %}
              {{ form.telefono(class="form-control", placeholder=form.telefono.label.text) }}
              {% endif %}
              {{ form.telefono.label }}
            </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 my-3">
            <div class="form-floating">
              {% if form.genero.errors %}
              {{ form.genero(class="form-control is-invalid", placeholder=form.genero.label.text) }}
              <div class="invalid-feedback">
                {% for error in form.genero.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
              {% else %}
              {{ form.genero(class="form-control", placeholder=form.genero.label.text) }}
              {% endif %}
              {{ form.genero.label }}
            </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 my-3">
            <div class="form-floating">
              {% if form.fecha_nacimiento.errors %}
              {{ form.fecha_nacimiento(class="form-control is-invalid", placeholder=form.fecha_nacimiento.label.text) }}
              <div class="invalid-feedback">
                {% for error in form.fecha_nacimiento.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
              {% else %}
              {{ form.fecha_nacimiento(class="form-control", placeholder=form.fecha_nacimiento.label.text) }}
              {% endif %}
              {{ form.fecha_nacimiento.label }}
            </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 my-3">
            <div class="form-floating">
              {% if form.puesto.errors %}
              {{ form.puesto(class="form-control is-invalid", placeholder=form.puesto.label.text) }}
              <div class="invalid-feedback">
                {% for error in form.puesto.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
              {% else %}
              {{ form.puesto(class="form-control", placeholder=form.puesto.label.text) }}
              {% endif %}
              {{ form.puesto.label }}
            </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 my-3">
            <div class="form-floating">
              {% if form.fecha_contratacion.errors %}
              {{ form.fecha_contratacion(class="form-control is-invalid", placeholder=form.fecha_contratacion.label.text) }}
              <div class="invalid-feedback">
                {% for error in form.fecha_contratacion.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
              {% else %}
              {{ form.fecha_contratacion(class="form-control", placeholder=form.fecha_contratacion.label.text) }}
              {% endif %}
              {{ form.fecha_contratacion.label }}
            </div>
        </div>
      {% endblock form %}
        <div class="col-12 d-flex justify-content-center">
          {% block botones %}
            <button type="button" class="btn btn-warning m-2" id="btnModificar">Modificar</button>
            {{ form.submit(class="btn btn-info m-2 d-none", id="btnGuardar") }}
          {% endblock botones %}
          <a class="btn btn-danger m-2" href="/empleado">Regresar<a/>
        </div>
    </form>
</div>

{% endblock modulo %}

{% block scripts %}
 {{ super() }}
 <script>
     const inputs = document.querySelectorAll('input:not([type="submit"]), select')
     inputs.forEach(element => {
        element.disabled = true
     });
     document.querySelectorAll('input[type="password"], input[name="usuario"]').forEach(element => {
       element.parentElement.remove()
     })
     const btnModificar  = document.getElementById('btnModificar')
     btnModificar.addEventListener('click', () => {
      inputs.forEach(element => {
          element.disabled = false
      });
      document.getElementById('btnGuardar').classList.remove('d-none')
     });
 </script>
{% endblock scripts %}